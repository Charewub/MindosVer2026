<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Classroom Activity</title>
  <style>
    body { font-family: 'Kanit', sans-serif; background-color: #f0f2f5; padding: 20px; display: flex; justify-content: center; }
    
    /* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏Å */
    .card { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); width: 100%; max-width: 450px; text-align: center; }
    
    /* ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÇ‡∏à‡∏ó‡∏¢‡πå */
    img.question-img { 
      width: 100%; height: auto; border-radius: 10px; margin-bottom: 20px; 
      border: 1px solid #ddd; box-shadow: 0 2px 5px rgba(0,0,0,0.05);
      max-height: 250px; object-fit: contain; background: #eee;
    }
    
    /* Inputs */
    input { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ccc; border-radius: 8px; font-size: 16px; font-family: 'Kanit'; box-sizing: border-box;}
    input:focus { outline: none; border-color: #4285F4; background: #fafdff; }
    
    /* Buttons */
    button { background-color: #4285F4; color: white; border: none; padding: 12px 24px; border-radius: 8px; font-size: 18px; cursor: pointer; width: 100%; margin-top: 15px; transition: 0.3s; font-family: 'Kanit'; }
    button:hover { background-color: #357ae8; }
    
    .hidden { display: none; }
    .progress { color: #666; margin-bottom: 15px; font-weight: 600; font-size: 1.1rem; }
    .fade-in { animation: fadeIn 0.5s ease-in-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    /* --- ‡∏™‡πà‡∏ß‡∏ô Style ‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏£‡∏∏‡∏õ (Summary) --- */
    h2.summary-head { color: #27ae60; margin-top: 0; }
    .summary-list { text-align: left; margin-top: 20px; max-height: 60vh; overflow-y: auto; padding-right: 5px; }
    
    .summary-item {
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      border-radius: 10px;
      padding: 10px;
      margin-bottom: 15px;
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .thumb-img {
      width: 60px; height: 60px; 
      object-fit: cover; border-radius: 8px; border: 1px solid #ddd;
    }

    .answers-box { flex: 1; }
    
    .ans-tag {
      display: inline-block;
      font-size: 0.85rem;
      padding: 2px 8px;
      border-radius: 12px;
      margin: 2px;
      color: white;
    }
    .c1 { background: #e74c3c; }
    .c2 { background: #3498db; }
    .c3 { background: #2ecc71; }

    /* Helper text */
    .instruction { margin: 0 0 10px 0; color: #444; font-size: 1rem; }
    .sub-text { font-size: 0.85rem; color: #888; display: block; margin-top: -3px;}

  </style>
</head>
<body>

  <div class="card" id="formCard">
    <div class="progress" id="progressText">Image 1 / 5</div>
    
    <img id="questionImg" src="" alt="Loading..." class="question-img fade-in">
    
    <p class="instruction">
      Type 3 short words regarding this image<br>
      <span style="color:#666; font-size:0.9rem;">(‡∏û‡∏¥‡∏°‡∏û‡πå 3 ‡∏Ñ‡∏≥‡∏™‡∏±‡πâ‡∏ô‡πÜ ‡∏ó‡∏µ‡πà‡∏ô‡∏∂‡∏Å‡∏ñ‡∏∂‡∏á‡∏†‡∏≤‡∏û‡∏ô‡∏µ‡πâ)</span>
    </p>

    <input type="text" id="w1" placeholder="Word 1 / ‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà 1" required autocomplete="off">
    <input type="text" id="w2" placeholder="Word 2 / ‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà 2" required autocomplete="off">
    <input type="text" id="w3" placeholder="Word 3 / ‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà 3" required autocomplete="off">
    
    <button onclick="submitData()" id="btnSubmit">Submit / ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
  </div>

  <div class="card hidden" id="summaryCard">
    <h2 class="summary-head">üéâ Completed!<br><span style="font-size:1.2rem; color:#2ecc71;">(‡πÄ‡∏™‡∏£‡πá‡∏à‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!)</span></h2>
    <p style="color:#666; font-size:0.9rem;">
      Here is your summary<br>(‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì)
    </p>
    
    <div class="summary-list" id="summaryContainer"></div>

    <button onclick="location.reload()" style="background-color: #95a5a6; margin-top: 20px;">
      Restart / ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
    </button>
  </div>

  <script>
    // ‚úÖ ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û 5 ‡∏£‡∏π‡∏õ
    var imageList = [
      "https://i.postimg.cc/76PdMBXR/Slide2-0.png",
      "https://i.postimg.cc/631jVB86/Slide3-0.png",
      "https://i.postimg.cc/h4NgcB24/Slide4-0.png",
      "https://i.postimg.cc/1zR1J53n/Slide5-0.png",
      "https://i.postimg.cc/mDJxLYNS/Slide6-0.png"
    ];

    var currentIndex = 0;
    var userHistory = []; 

    window.onload = function() {
      loadState();
    };

    function loadState() {
      if (currentIndex < imageList.length) {
        var img = document.getElementById('questionImg');
        img.src = imageList[currentIndex];
        
        // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏•‡∏Ç‡∏Ç‡πâ‡∏≠ (2 ‡∏†‡∏≤‡∏©‡∏≤)
        document.getElementById('progressText').innerText = "Image " + (currentIndex + 1) + " / " + imageList.length;
        
        document.getElementById('w1').value = "";
        document.getElementById('w2').value = "";
        document.getElementById('w3').value = "";
        
        var btn = document.getElementById('btnSubmit');
        btn.disabled = false;
        btn.innerText = "Submit / ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö"; 
        
        setTimeout(() => document.getElementById('w1').focus(), 100);

        img.classList.remove('fade-in');
        void img.offsetWidth;
        img.classList.add('fade-in');

      } else {
        showSummary();
      }
    }

    function submitData() {
      var w1 = document.getElementById('w1').value;
      var w2 = document.getElementById('w2').value;
      var w3 = document.getElementById('w3').value;

      // Alert ‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© + ‡πÑ‡∏ó‡∏¢
      if(!w1 || !w2 || !w3) {
        alert("Please fill in all 3 boxes.\n(‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏±‡πâ‡∏á 3 ‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡∏ö)");
        return;
      }

      var btn = document.getElementById('btnSubmit');
      
      // ‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
      btn.innerText = "Saved / ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß...";
      btn.disabled = true;

      userHistory.push({
        imgIndex: currentIndex,
        w1: w1,
        w2: w2,
        w3: w3
      });

      setTimeout(function() {
        currentIndex++;
        loadState();
      }, 300);
    }

    function showSummary() {
      document.getElementById('formCard').classList.add('hidden');
      document.getElementById('summaryCard').classList.remove('hidden');

      var container = document.getElementById('summaryContainer');
      var html = "";

      userHistory.forEach((item, index) => {
        var imgUrl = imageList[item.imgIndex];
        
        html += `
          <div class="summary-item">
            <img src="${imgUrl}" class="thumb-img">
            <div class="answers-box">
              <div style="font-size:0.8rem; color:#888; margin-bottom:4px;">Image ${index + 1}</div>
              <div>
                <span class="ans-tag c1">${item.w1}</span>
                <span class="ans-tag c2">${item.w2}</span>
                <span class="ans-tag c3">${item.w3}</span>
              </div>
            </div>
          </div>
        `;
      });

      container.innerHTML = html;
    }
  </script>
</body>
</html>
